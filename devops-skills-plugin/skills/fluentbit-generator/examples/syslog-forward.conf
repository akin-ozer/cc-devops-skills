# Fluent Bit Configuration: Syslog Collection and Forwarding
# This configuration receives syslog messages and forwards them to a remote syslog server.

[SERVICE]
    Flush         5
    Log_Level     info
    Daemon        Off
    HTTP_Server   On
    HTTP_Port     2020

[INPUT]
    Name          syslog
    Tag           syslog.messages
    Parser        syslog-rfc3164
    Listen        0.0.0.0
    Port          5140
    Mode          tcp
    Buffer_Size   32KB

[FILTER]
    Name          modify
    Match         *
    Add           source fluent-bit-collector
    Add           collector_host ${HOSTNAME}

[OUTPUT]
    Name          forward
    Match         *
    Host          syslog-server.example.com
    Port          24224
    Retry_Limit   5

# Optional: Also output to stdout for debugging
[OUTPUT]
    Name          stdout
    Match         *
    Format        json_lines